(this.webpackJsonpproyecto_ux=this.webpackJsonpproyecto_ux||[]).push([[2],{101:function(e,t,a){},105:function(e,t,a){"use strict";a.r(t);var s=a(2),c=a.n(s),i=a(29),r=a.n(i),n=(a(69),a(13)),l=a(24),o=a(12),j=a(108),d=a(109),u=a(110),b=a(111),x=a(112),O=a(113),h=a(61),m=a(18),p=a(59),f=a(3);var k=function(e){var t=e.setUser,a=c.a.useState(""),s=Object(n.a)(a,2),i=s[0],r=s[1],k=c.a.useState(""),g=Object(n.a)(k,2),v=g[0],y=g[1],C=c.a.useState(""),w=Object(n.a)(C,2),S=w[0],N=w[1],P=Object(m.b)(),E=m.b,I=Object(o.e)();return Object(f.jsxs)(j.a,{className:"mt-2",children:["Sign in:",Object(f.jsxs)(d.a,{children:[Object(f.jsxs)(u.a,{row:!0,children:[Object(f.jsxs)(b.a,{for:"Correo",sm:2,children:["Email:"," "]}),Object(f.jsx)(x.a,{sm:10,children:Object(f.jsx)(O.a,{className:"form-control",type:"email",name:"email",sm:10,id:"Correo",placeholder:"correo@dirrecion.com",value:i,onChange:function(e){return r(e.target.value)}})})]}),Object(f.jsxs)(u.a,{row:!0,children:[Object(f.jsxs)(b.a,{for:"Passwordbox",sm:2,children:["Password:"," "]}),Object(f.jsx)(x.a,{sm:10,children:Object(f.jsx)(O.a,{className:"form-control",type:"password",sm:10,name:"password",id:"Passwordbox",placeholder:"Password",value:v,onChange:function(e){return y(e.target.value)}})})]}),S?Object(f.jsxs)("div",{children:[S," ",Object(f.jsx)("br",{})," "]}):null,Object(f.jsx)(h.a,{onClick:function(){try{P.signInWithEmailAndPassword(i,v).then((function(e){t(e.user),I.push("/dashboard")})).catch((function(e){switch(e.code){case"auth/email-already-in-use":N("El correo ya esta en uso.");break;case"auth/invalid-email":N("El tipo de correo usado es invalido.");break;case"auth/wrong-password":case"auth/user-not-found":N("El correo/contrasena esta incorrecta.")}}))}catch(e){}},children:"Log In"}),Object(f.jsx)("br",{}),Object(f.jsx)("br",{}),Object(f.jsx)(h.a,{tag:l.b,to:"/registrar",children:"Registrar"}),Object(f.jsx)(p.GoogleButton,{onClick:function(){P.signInWithPopup(E.GoogleAuthProvider)}})]})]})};var g=function(e){var t=e.setUser,a=c.a.useState(""),s=Object(n.a)(a,2),i=s[0],r=s[1],j=c.a.useState(""),d=Object(n.a)(j,2),u=d[0],b=d[1],x=c.a.useState(""),O=Object(n.a)(x,2),p=O[0],k=O[1],g=Object(m.b)(),v=Object(o.e)();return Object(f.jsxs)("div",{children:[Object(f.jsx)("br",{}),"Sign up:",Object(f.jsx)("br",{}),Object(f.jsx)("label",{children:"Email: "}),Object(f.jsx)("input",{type:"text",value:i,onChange:function(e){return r(e.target.value)}}),Object(f.jsx)("br",{}),Object(f.jsx)("label",{children:"Password: "}),Object(f.jsx)("input",{type:"password",value:u,onChange:function(e){return b(e.target.value)}}),Object(f.jsx)("br",{}),Object(f.jsx)(h.a,{onClick:function(){!function(){try{g.createUserWithEmailAndPassword(i,u).then((function(e){r(""),b(""),k("Cuenta creada exitosamente"),t(e.user),v.push("/dashboard")})).catch((function(e){switch(e.code){case"auth/email-already-in-use":k("El correo ya esta en uso.");break;case"auth/invalid-email":k("El tipo de correo usado es invalido.")}}))}catch(e){}}()},children:"Registrar"}),"    ","    ","  ",Object(f.jsx)(h.a,{tag:l.b,to:"/",children:"Volver Atras"}),p?Object(f.jsx)("div",{children:p}):null]})},v=a(114),y=a(116),C=a(117),w=a(115),S=a(118),N=a(119),P=a(120),E=a(121),I=a(129),D=a(122),F=function(e){var t=Object(m.c)().collection("Posts").doc(e.id),a=m.c.FieldValue,s=c.a.useState(!1),i=Object(n.a)(s,2),r=i[0],l=i[1];return Object(f.jsx)("div",{children:Object(f.jsxs)(v.a,{children:[Object(f.jsxs)(w.a,{children:["Publicado en: ",e.fecha]}),Object(f.jsxs)(y.a,{children:[Object(f.jsx)(C.a,{tag:"h5",children:e.titulo}),Object(f.jsx)(S.a,{children:e.texto})]}),Object(f.jsx)(N.a,{children:e.etiquetas.map((function(e){return Object(f.jsx)(P.a,{color:"primary",pill:!0,children:e})}))}),Object(f.jsxs)(N.a,{children:[Object(f.jsxs)(E.a,{color:"primary",disabled:null===e.email,onClick:function(){e.likedpor.includes(e.email)?t.update({likes:Number(e.likes)-1,likedpor:a.arrayRemove(e.email)}):t.update({likes:Number(e.likes)+1,likedpor:a.arrayUnion(e.email)})},children:["Likes: ",""+e.likes]})," ",Object(f.jsxs)(E.a,{color:"primary",disabled:null===e.email,onClick:function(){e.dislikedpor.includes(e.email)?t.update({dislikes:Number(e.dislikes)-1,dislikedpor:a.arrayRemove(e.email)}):t.update({dislikes:Number(e.dislikes)+1,dislikedpor:a.arrayUnion(e.email)})},children:["Dislike: ",""+e.dislikes]})," ",Object(f.jsx)(E.a,{id:"compartir",color:"primary",onClick:function(){navigator.clipboard.writeText("https://proyecto-ux-d0012.web.app/memo/"+e.id)},children:"Compartir"}),Object(f.jsx)(I.a,{placement:"top",isOpen:r,target:"compartir",toggle:function(){return l(!r)},children:Object(f.jsx)(D.a,{children:"Copiado al portapapeles!"})})]})]})})};var q=function(e){var t=e.user,a=c.a.useState(""),s=Object(n.a)(a,2),i=s[0],r=s[1],l=c.a.useState(""),o=Object(n.a)(l,2),x=o[0],p=o[1],k=c.a.useState(""),g=Object(n.a)(k,2),w=g[0],S=g[1],N=c.a.useState([]),P=Object(n.a)(N,1)[0],E=c.a.useState([]),I=Object(n.a)(E,2),D=I[0],q=I[1],L=Object(m.c)().collection("Posts"),_=Object(m.d)(L),U=_.status,A=_.data;return Object(f.jsx)(j.a,{children:Object(f.jsxs)(d.a,{children:[Object(f.jsx)("div",{children:Object(f.jsx)(v.a,{children:Object(f.jsxs)(y.a,{children:[Object(f.jsx)(C.a,{tag:"h3",children:"Sube tu post!"}),Object(f.jsx)(O.a,{name:"titulo",placeholder:"Titulo",value:i,onChange:function(e){return r(e.target.value)}}),Object(f.jsx)("br",{}),Object(f.jsx)(O.a,{type:"textarea",name:"texto",placeholder:"Post",value:x,onChange:function(e){return p(e.target.value)}}),Object(f.jsx)("br",{}),Object(f.jsxs)(d.a,{inline:!0,children:[Object(f.jsxs)(u.a,{className:"mb-2 mr-sm-2 mb-sm-0",children:[Object(f.jsxs)(b.a,{for:"examplePassword",className:"mr-sm-2",children:["Etiquetas:"," "]}),Object(f.jsx)(O.a,{type:"text",name:"tags",id:"exampleTags",onChange:function(e){return S(e.target.value)}})]}),Object(f.jsxs)(h.a,{onClick:function(){P.push(w),S(""),console.log(P)},children:[" ","Agregar"," "]}),Object(f.jsx)("ul",{children:P.map((function(e,t){return Object(f.jsxs)("li",{children:[e+"        ",Object(f.jsx)(h.a,{close:!0,onClick:function(){return P.splice(P.indexOf(e),1)}})]},t)}))})]}),Object(f.jsx)("br",{}),Object(f.jsx)(h.a,{size:"sm",onClick:function(){return function(){var e=new Date;""===i&&""===x||(L.add({titulo:i,texto:x,fecha:e.toDateString(),etiquetas:P,likes:Number(0),dislikes:Number(0),likedpor:[],dislikedpor:[]}),r(""),p(""),P.splice(0,P.length))}()},children:"Subir"})]})})}),Object(f.jsx)("div",{children:Object(f.jsx)(d.a,{inline:!0,children:Object(f.jsxs)(u.a,{className:"mb-2 mr-sm-2 mb-sm-0",children:[Object(f.jsxs)(b.a,{for:"examplePassword",className:"mr-sm-2",children:["Filtrar por etiquetas:"," "]}),Object(f.jsx)(O.a,{type:"text",name:"filter",id:"exampleFilter",onChange:function(e){return q(e.target.value)}})]})})}),Object(f.jsx)("div",{children:""===D?"success"===U&&Object(f.jsx)("div",{children:A.map((function(e){return Object(f.jsx)("div",{children:Object(f.jsx)(F,{id:e.NO_ID_FIELD,titulo:e.titulo,texto:e.texto,fecha:e.fecha,etiquetas:e.etiquetas,likes:e.likes,dislikes:e.dislikes,likedpor:e.likedpor,dislikedpor:e.dislikes,email:t.email})},e.NO_ID_FIELD)}))}):"success"===U&&Object(f.jsx)("div",{children:A.map((function(e){return e.etiquetas.some((function(e){return e.includes(D)}))?Object(f.jsx)("div",{children:Object(f.jsx)(F,{id:e.NO_ID_FIELD,titulo:e.titulo,texto:e.texto,fecha:e.fecha,etiquetas:e.etiquetas,likes:e.likes,dislikes:e.dislikes,likedpor:e.likedpor,dislikedpor:e.dislikedpor,email:t.email})},e.NO_ID_FIELD):null}))})})]})})},L=function(e){var t=e.user,a=Object(o.f)().memoid;console.log(a);var s=Object(m.c)().collection("Posts").doc(a),c=Object(m.e)(s),i=c.status,r=c.data;return console.log(i),Object(f.jsx)(j.a,{children:Object(f.jsx)(d.a,{children:"success"===i?(console.log(r.etiquetas),Object(f.jsx)("div",{children:Object(f.jsx)(F,{id:a,titulo:r.titulo,texto:r.texto,fecha:r.fecha,etiquetas:r.etiquetas,likes:r.likes,dislikes:r.dislikes,likedpor:r.likedpor,dislikedpor:r.dislikes,email:t?t.email:null})},a)):null})})},_=a(123),U=a(124),A=a(125),R=a(126),T=a(127),B=a(128),G=function(e){var t=c.a.useState(!1),a=Object(n.a)(t,2),s=a[0],i=a[1];return c.a.useEffect((function(){e.setUser(e.user)}),[]),Object(f.jsx)("div",{children:Object(f.jsxs)(_.a,{color:"dark",dark:!0,expand:"md",children:[Object(f.jsx)(U.a,{children:"Laboratorio Firebase"}),Object(f.jsx)(A.a,{onClick:function(){return i(!s)},className:"mr-2"}),null!==e.user?Object(f.jsxs)(R.a,{isOpen:s,navbar:!0,children:[Object(f.jsx)(T.a,{className:"mr-auto",navbar:!0}),Object(f.jsx)(B.a,{onClick:function(){e.setUser(null)},children:Object(f.jsx)(l.b,{to:"/",children:"Log Out"})})]}):Object(f.jsxs)(R.a,{isOpen:s,navbar:!0,children:[Object(f.jsx)(T.a,{className:"mr-auto",navbar:!0}),Object(f.jsx)(B.a,{children:Object(f.jsx)(l.b,{to:"/",children:"Log In"})})]})]})})};a(101);var W=function(){var e=c.a.useState(null),t=Object(n.a)(e,2),a=t[0],s=t[1];return Object(f.jsx)("div",{className:"App",children:Object(f.jsxs)(l.a,{children:[Object(f.jsx)(G,{user:a,setUser:s}),Object(f.jsx)(o.a,{path:"/",exact:!0,children:Object(f.jsx)(k,{setUser:s})}),Object(f.jsx)(o.a,{path:"/registrar",exact:!0,children:Object(f.jsx)(g,{})}),Object(f.jsx)(o.a,{path:"/dashboard",exact:!0,children:Object(f.jsx)(q,{user:a})}),Object(f.jsx)(o.a,{path:"/memo/:memoid",exact:!0,children:Object(f.jsx)(L,{user:a})})]})})},z=function(e){e&&e instanceof Function&&a.e(11).then(a.bind(null,135)).then((function(t){var a=t.getCLS,s=t.getFID,c=t.getFCP,i=t.getLCP,r=t.getTTFB;a(e),s(e),c(e),i(e),r(e)}))};a(102),a(106),a(103);r.a.render(Object(f.jsx)(c.a.StrictMode,{children:Object(f.jsx)(m.a,{firebaseConfig:{apiKey:"AIzaSyAwcDXjPYwrjWuFRiGhnRE_na9xjGT7wtE",authDomain:"proyecto-ux-d0012.firebaseapp.com",projectId:"proyecto-ux-d0012",storageBucket:"proyecto-ux-d0012.appspot.com",messagingSenderId:"385432520257",appId:"1:385432520257:web:3c6278a124e39c8c6ce8c0"},children:Object(f.jsx)(W,{})})}),document.getElementById("root")),z()},69:function(e,t,a){}},[[105,3,4]]]);
//# sourceMappingURL=main.d0b8f2da.chunk.js.map